---
import MainLayout from "../layouts/MainLayout.astro";
import Hero from "../components/Hero.astro";
import FeaturedWriting from "../components/FeaturedWriting.astro";
import ListSection from "../components/ListSection.astro";

// Sample data - in a real app, this would come from Content Collections
const recentPosts = [
  {
    title: "Building ML-powered fraud detection at scale",
    href: "/writing/ml-fraud-detection",
    date: "2024-12-15",
    formattedDate: "Dec 15, 2024",
  },
  {
    title: "Event sourcing with AWS for shipment tracking",
    href: "/writing/event-sourcing-shipments",
    date: "2024-10-22",
    formattedDate: "Oct 22, 2024",
  },
  {
    title: "Legacy to microservices: lessons from Coolblue",
    href: "/writing/legacy-to-microservices",
    date: "2024-08-18",
    formattedDate: "Aug 18, 2024",
  },
  {
    title: "CI/CD for embedded devices",
    href: "/writing/cicd-embedded",
    date: "2024-06-30",
    formattedDate: "Jun 30, 2024",
  },
  {
    title: "Over-the-Air updates for ESP8266",
    href: "/writing/ota-esp8266",
    date: "2024-04-15",
    formattedDate: "Apr 15, 2024",
  },
];

const projects = [
  {
    title: "htmx-lua-sqlite",
    href: "/projects/htmx-lua-sqlite",
    description: "CGI web app with HTMX, Lua & SQLite",
  },
  {
    title: "DMX spotlight controller",
    href: "/projects/dmx-spotlight",
    description: "C# warehouse picking light system",
  },
  {
    title: "ESP8266 OTA updater",
    href: "/projects/esp8266-ota",
    description: "scalable firmware updates",
  },
];

const books = [
  {
    title: "Staff Engineer",
    href: "/books/staff-engineer",
    date: "2024-07-02",
    formattedDate: "Jul 2, 2024",
  },
  {
    title: "Accelerate",
    href: "/books/accelerate",
    date: "2024-05-09",
    formattedDate: "May 9, 2024",
  },
  {
    title: "Thinking in Systems",
    href: "/books/thinking-in-systems",
    date: "2024-03-21",
    formattedDate: "Mar 21, 2024",
  },
];
---

<MainLayout
  title="Wessel van Lit — Software Engineer"
  description="Wessel van Lit — software engineer in Rotterdam. Writing, projects, and books."
>
  <Hero />

  <FeaturedWriting />

  <div class="columns">
    <ListSection title="Recent posts" items={recentPosts} />
    <ListSection title="Projects" items={projects} />
    <ListSection title="Books" items={books} />
  </div>
</MainLayout>

<style>
  .columns {
    display: grid;
    gap: 32px;
    grid-template-columns: 1fr 0.7fr 0.7fr;
    margin-top: 32px;
  }

  @media (max-width: 1000px) {
    .columns {
      grid-template-columns: 1fr;
      gap: 24px;
    }
  }
</style>
