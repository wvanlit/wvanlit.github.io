---
import MainLayout from "../layouts/MainLayout.astro";
import Container from "../components/Container.astro";

const workExperience = [
  {
    role: "Software Engineer",
    company: "Coolblue",
    period: "2024 - Present",
    location: "Rotterdam, Netherlands",
    highlights: [
      "Built microservice using Machine Learning to detect fraud and set appropriate insurance on shipments",
      "Set up event store for shipment events using AWS (Lambda, SQS, SNS, DynamoDB) to centralize information",
      "Enhanced legacy systems while developing new microservices for 20,000+ daily shipments",
    ],
  },
  {
    role: "Software Engineer",
    company: "Coolblue",
    period: "2022 - 2023",
    location: "Rotterdam, Netherlands",
    highlights: [
      "Joined the shipments team handling all Coolblue logistics operations",
      "Worked on both legacy C# systems and creating new microservices architecture",
      "Contributed to processing over 20,000 shipments daily with high reliability",
    ],
  },
  {
    role: "Software Consultant",
    company: "ICT Group",
    period: "2022 (Nederlandse Spoorwegen)",
    location: "Netherlands",
    highlights: [
      "Led migration of Manufacturing Execution System front-end from Internet Explorer to Chrome",
      "Modernized legacy system using ES6 JavaScript and contemporary web standards",
      "Built manageable workflow tools for factory employees using TypeScript and React",
    ],
  },
  {
    role: "Software Consultant",
    company: "ICT Group",
    period: "2021 (PSA International)",
    location: "Netherlands",
    highlights: [
      "Enhanced developer tools using Java + Spring Boot + Angular for system validation",
      "Created CI/CD pipeline in Azure using Packer, Terraform, and Python",
      "Simplified testing of older system versions through automated infrastructure",
    ],
  },
  {
    role: "Graduate Intern",
    company: "ICT Group",
    period: "August 2020 - February 2021",
    location: "Netherlands",
    highlights: [
      "Wrote thesis on integrating CI/CD pipelines into embedded devices with functioning prototype",
      "Explored scalable Over-the-Air updates for ESP8266 microcontrollers using Azure CI/CD",
      "Implemented solution using mix of C++ and Python for embedded systems",
    ],
  },
  {
    role: "R&D Engineer",
    company: "Monta",
    period: "March 2020 - August 2020",
    location: "Netherlands",
    highlights: [
      "Researched using light systems to optimize warehouse picking operations",
      "Created C# software to control DMX spotlight for product highlighting",
      "Developed C# UWP app for Raspberry Pi communicating with Teensy microcontrollers",
    ],
  },
  {
    role: "Technical Product Owner",
    company: "Billink",
    period: "February 2019 - February 2020",
    location: "Netherlands",
    highlights: [
      "Led credit check system development and managed 2 remote developers",
      "Analyzed operational data with Tableau and SQL to improve system performance",
      "Built asynchronous microservice in Go with custom rules engine",
    ],
  },
  {
    role: "Peer Coach",
    company: "Hogeschool Rotterdam",
    period: "August 2018 - August 2019",
    location: "Rotterdam, Netherlands",
    highlights: [
      "Assisted Computer Science teachers with first-year programming and math courses",
      "Conducted workshops and tutored students on complex technical topics",
      "Organized open days, hackathons, and welcome weeks for new students",
    ],
  },
];
---

<MainLayout
  title="Work Experience ‚Äî Wessel van Lit"
  description="Professional work experience and career history of Wessel van Lit, Software Engineer."
>
  <Container>
    <header>
      <h1>Work Experience</h1>
      <p class="intro">
        My professional journey as a software engineer, from peer coaching to
        building systems that handle thousands of daily operations.
      </p>
    </header>

    <div class="timeline">
      {
        workExperience.map((job, index) => (
          <div class="timeline-item">
            <div class="timeline-marker">
              <div class="timeline-dot" />
              {index < workExperience.length - 1 && (
                <div class="timeline-line" />
              )}
            </div>
            <article class="timeline-content">
              <header class="job-header">
                <h2 class="job-title">{job.role}</h2>
                <div class="job-meta">
                  <h3 class="company">{job.company}</h3>
                  <time class="period">{job.period}</time>
                  <span class="location">{job.location}</span>
                </div>
              </header>
              <ul class="highlights" role="list">
                {job.highlights.map((highlight) => (
                  <li>{highlight}</li>
                ))}
              </ul>
            </article>
          </div>
        ))
      }
    </div>
  </Container>
</MainLayout>

<style>
  header {
    margin-bottom: 56px;
  }

  h1 {
    font-size: clamp(2rem, 4vw, 3rem);
    font-weight: 700;
    margin-bottom: 16px;
    color: var(--fg);
  }

  .intro {
    font-size: 1.125rem;
    color: var(--muted-fg);
    max-width: 60ch;
    line-height: 1.6;
  }

  .timeline {
    margin-top: 40px;
    position: relative;
  }

  .timeline-item {
    display: flex;
    margin-bottom: 48px;
    position: relative;
  }

  .timeline-item:last-child {
    margin-bottom: 0;
  }

  .timeline-marker {
    flex-shrink: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-right: 32px;
    position: relative;
  }

  .timeline-dot {
    width: 16px;
    height: 16px;
    border-radius: 50%;
    background-color: var(--accent);
    border: 3px solid var(--bg);
    box-shadow: 0 0 0 2px var(--accent);
    position: relative;
    z-index: 2;
  }

  .timeline-line {
    width: 2px;
    background-color: var(--border);
    flex: 1;
    margin-top: 8px;
    min-height: 60px;
    position: relative;
  }

  .timeline-content {
    flex: 1;
    background-color: var(--subtle-bg);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 24px;
    position: relative;
  }

  .timeline-content::before {
    content: "";
    position: absolute;
    left: -8px;
    top: 20px;
    width: 0;
    height: 0;
    border-top: 8px solid transparent;
    border-bottom: 8px solid transparent;
    border-right: 8px solid var(--border);
  }

  .timeline-content::after {
    content: "";
    position: absolute;
    left: -7px;
    top: 20px;
    width: 0;
    height: 0;
    border-top: 8px solid transparent;
    border-bottom: 8px solid transparent;
    border-right: 8px solid var(--subtle-bg);
  }

  .job-header {
    margin-bottom: 20px;
  }

  .job-title {
    font-size: 1.375rem;
    font-weight: 600;
    margin-bottom: 8px;
    color: var(--fg);
    line-height: 1.3;
  }

  .job-meta {
    display: flex;
    flex-wrap: wrap;
    gap: 16px;
    align-items: center;
    font-size: 0.9rem;
  }

  .company {
    font-weight: 600;
    color: var(--accent);
    margin: 0;
    font-size: 1rem;
  }

  .period {
    color: var(--muted-fg);
    font-weight: 500;
    font-size: 0.85rem;
    background-color: var(--bg);
    padding: 4px 8px;
    border-radius: 4px;
    border: 1px solid var(--border);
  }

  .location {
    color: var(--muted-fg);
    font-style: italic;
    display: flex;
    align-items: center;
    gap: 4px;
  }

  .location::before {
    content: "üìç";
    font-style: normal;
  }

  .highlights {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .highlights li {
    position: relative;
    margin-bottom: 12px;
    line-height: 1.6;
    color: var(--muted-fg);
    padding-left: 16px;
  }

  .highlights li:last-child {
    margin-bottom: 0;
  }

  .highlights li::before {
    content: "‚Ä¢";
    color: var(--accent);
    font-weight: bold;
    position: absolute;
    left: 0;
    top: 0;
  }

  @media (max-width: 768px) {
    .timeline-item {
      flex-direction: column;
      margin-bottom: 32px;
    }

    .timeline-marker {
      flex-direction: row;
      align-items: flex-start;
      margin-right: 0;
      margin-bottom: 16px;
    }

    .timeline-line {
      width: 100%;
      height: 2px;
      margin-top: 0;
      margin-left: 8px;
      min-height: 2px;
    }

    .timeline-content {
      margin-left: 0;
    }

    .timeline-content::before,
    .timeline-content::after {
      display: none;
    }

    .job-meta {
      flex-direction: column;
      align-items: flex-start;
      gap: 8px;
    }
  }
</style>
